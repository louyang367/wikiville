<!DOCTYPE html>
<html>

<head>
  <% include ../static/partials/head.ejs %>
</head>

<body>
  <% include ../static/partials/navbar.ejs %>
  <% include ../static/partials/messages.ejs %>

    <main class="container">
      <h1 class="display-4 mt-4">New Wiki</h1>

      <form action="/wikis/create" method="post">
          <% include ./partials/editForm.ejs %>

      </form>

      <h4 class='mt-5'>Preview</h4>
      <div class="card border-primary mb-3">
        <div class="card-header bg-primary text-white" style="font-size:x-large" id="title-preview"></div>
        <div class="card-body"><div id="preview"></div> </div>
      </div>

      <script type="text/javascript" src="/scripts/markdown/lib/markdown.js" ></script> 
      <script>
        function Editor(input, preview) {
          this.update = function () {
            preview.innerHTML = markdown.toHTML(input.value);
          };
          input.editor = this;
          this.update();
        }
        var $ = function (id) { return document.getElementById(id); };
        new Editor($("text-input"), $("preview"));
        new Editor($("title-input"), $("title-preview"));
      </script> 

    </main>

    <% include ../static/partials/baseScripts.ejs %>

</body>

</html>